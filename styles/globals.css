/* ====== COOLVETICA CUSTOM LOCAL FONTS (kept as fallback) ====== */
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Rg.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Rg It.otf') format('opentype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Hv Comp.otf') format('opentype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Rg Cond.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-stretch: condensed;
  font-display: swap;
}
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Rg Cram.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-stretch: ultra-condensed;
  font-display: swap;
}
@font-face {
  font-family: 'coolvetica';
  src: url('/fonts/coolvetica/Coolvetica Bk.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
/* ====== TYPOGRAPHY TOKENS ====== */
:root {
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-fallback: "coolvetica", "Open Sans", sans-serif;
  --weight-thin: 280;   /* site-wide base */
  --weight-hover: 350;  /* hover/active emphasis */
}

/* ====== GLOBAL RESETS ====== */
html,
body {
  padding: 0;
  margin: 0;
  font-family: var(--font-sans);
  font-weight: var(--weight-thin);
  background: #f9f9f7;
  color: #181818;
  overflow-y: auto;
  overflow-x: hidden; /* keep desktop stable; overridden for touch devices below */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  /* Custom scrollbar for entire page */
  scrollbar-width: thin;
  scrollbar-color: #e6dbb9 #f0f0ed;
}
html::-webkit-scrollbar, body::-webkit-scrollbar {
  width: 14px;
  background: transparent;
}
html::-webkit-scrollbar-thumb, body::-webkit-scrollbar-thumb {
  background: #e6dbb9;
  border-radius: 0;
}
html::-webkit-scrollbar-thumb:hover, body::-webkit-scrollbar-thumb:hover {
  background: #d6c08e;
}

/* ====== GLOBAL HEADINGS: Inter base (280), uppercase by default ====== */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-sans);
  font-weight: var(--weight-thin);
  letter-spacing: 0.02em;
  margin: 0;
  color: inherit;
  text-transform: uppercase;
}

/* ====== CARD NAV STYLES ====== */
/* Base nav-card keeps flex layout; we use a separate rule to make the cards full-bleed */
.nav-card {
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 10;
  box-sizing: border-box;
}

/* Visual/top/mid/bot numeric values */
.nav-card-top {
  box-shadow: 0 5px 24px 0 rgba(0,0,0,0.13);
  min-height: 60px;
  height: 60px;
  padding: 0;
  background: #fff;
}
.nav-card-mid {
  box-shadow: 0 3px 14px 0 rgba(0,0,0,0.10);
  min-height: 44px;
  height: 44px;
  margin-top: 0;
  margin-bottom: 0;
  padding: 0;
  z-index: 20;
  background: #fff;
}
.nav-card-bot {
  box-shadow: 0 2px 6px 0 rgba(0,0,0,0.08);
  min-height: 26px;
  height: 26px;
  margin-top: -6px;
  margin-bottom: 8px;
  padding: 0;
  z-index: 15;
  background: #fff;
}

/* ====== FULL-BLEED NAV CARDS ======
   Make the nav card elements themselves span the viewport (full-bleed).
   Keep their inner child wrappers centered to the page container (min(1600px,95vw)).
   This makes the white nav bars full width while the tab content remains centered.
*/
.nav-card-top,
.nav-card-mid,
.nav-card-bot {
  /* Force the white "card" to span the viewport */
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  left: 0;
  background: #fff;
}

/* Center the inner content of each nav-card to the page container width.
   No side padding here — tabs and inner content control their own spacing. */
.nav-card-top > div,
.nav-card-mid > div,
.nav-card-bot > div {
  width: min(1600px, 95vw);
  margin: 0 auto;
  box-sizing: border-box;
  padding-left: 0;
  padding-right: 0;
  background: transparent;
}

/* ====== NAVIGATION (LINKS) — base 280, hover/active 350 ====== */
nav.main-nav {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 28px;
  height: 60px;
  font-family: var(--font-sans);
}
nav.main-nav a {
  color: #6c6c6a;
  font-weight: var(--weight-thin);
  font-size: 14px;
  text-transform: uppercase;
  text-decoration: none;
  padding: 4px 0;
  border-bottom: none;
  transition: color 0.2s, font-weight 0.16s;
  display: inline-block;
  white-space: nowrap;
  font-family: inherit;
  letter-spacing: 0.5px;
  margin: 0 20px;
  cursor: pointer;
}
nav.main-nav a.active,
nav.main-nav a[aria-current="page"] {
  color: #e6dbb9;
  text-decoration: underline;
  cursor: default;
  font-size: 16px;
  font-weight: var(--weight-hover); /* active emphasis */
}
nav.main-nav a.active:hover,
nav.main-nav a[aria-current="page"]:hover {
  text-decoration: none;
}
nav.main-nav a:not(.active):not([aria-current="page"]):hover,
nav.main-nav a:not(.active):not([aria-current="page"]):focus {
  font-weight: var(--weight-hover);
  color: #e6dbb9;
  text-decoration: none;
}

/* ====== ISP PAGE NAV HIERARCHY — base 280, hover/active 350 ====== */
.isp-section-tabs {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 22px;
  background: transparent;
  padding: 0;
  /* changed per request: use 44px on desktop and remove vertical shift */
  min-height: 44px;
  height: auto;
  margin: 0;
  box-shadow: none;
  border-bottom: none;
  width: 100%;
}
.isp-tab-btn {
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-weight: var(--weight-thin);
  font-size: 12px;
  letter-spacing: 0.5px;
  color: #6c6c6a;
  text-transform: uppercase;
  padding: 8px 20px;
  margin: 0 12px;
  height: auto;
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
  cursor: pointer;
  text-decoration: none;
  outline: none;
  border-radius: 0;
  border-bottom: none;
  transition: color 0.18s, text-decoration 0.18s, font-weight 0.16s;
  box-shadow: none;
  position: relative;
}
.isp-tab-btn.active,
.isp-tab-btn[aria-current="page"] {
  color: #e6dbb9;
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 1.5px;
  cursor: default;
  font-size: 14px;
  font-weight: var(--weight-hover);
}
.isp-tab-btn.active:hover,
.isp-tab-btn[aria-current="page"]:hover,
.isp-tab-btn.active:focus,
.isp-tab-btn[aria-current="page"]:focus {
  text-decoration: none;
}
.isp-tab-btn:not(.active):not([aria-current="page"]):hover,
.isp-tab-btn:not(.active):not([aria-current="page"]):focus {
  font-weight: var(--weight-hover);
  color: #e6dbb9;
  text-decoration: none;
}

.isp-subnav-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2px;
  background: transparent;
  padding: 0;
  min-height: 40px;
  height: auto;
  margin: 0px 0 0 0;
  box-shadow: none;
  border-bottom: none;
  width: 100%;
}
.isp-subnav-btn {
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-weight: var(--weight-thin);
  font-size: 10px;
  color: #6c6c6a;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 7px 10px;
  margin: 0 4px;
  height: auto;
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
  cursor: pointer;
  text-decoration: none;
  outline: none;
  border-radius: 4px;
  min-width: 44px;
  border-bottom: none;
  box-shadow: none;
  transition: color 0.18s, text-decoration 0.18s, font-weight 0.16s;
  position: relative;
}
.isp-subnav-btn.active,
.isp-subnav-btn[aria-current="page"] {
  color: #e6dbb9;
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 1.5px;
  cursor: default;
  font-size: 12px;
  font-weight: var(--weight-hover);
}
.isp-subnav-btn.active:hover,
.isp-subnav-btn[aria-current="page"]::hover,
.isp-subnav-btn.active:focus,
.isp-subnav-btn[aria-current="page"]::focus {
  text-decoration: none;
}
.isp-subnav-btn:not(.active):not([aria-current="page"]):hover,
.isp-subnav-btn:not(.active):not([aria-current="page"]):focus {
  font-weight: var(--weight-hover);
  color: #e6dbb9;
  text-decoration: none;
}
.isp-tab-btn:focus-visible,
.isp-subnav-btn:focus-visible {
  outline: 2px solid #e6dbb9;
}

/* Desktop: ensure buttons are vertically centered with no translateY shift */
@media (min-width: 701px) {
  .isp-tab-btn,
  .isp-subnav-btn {
    transform: none;
  }
}

/* ====== Divider hidden ====== */
.nav-divider {
  display: none !important;
}

/* ====== RESPONSIVE: HEADER & NAVIGATION ====== */
@media (max-width: 700px) {
  nav.main-nav {
    display: none !important;
  }
}
@media (min-width: 701px) and (max-width: 1024px) {
  nav.main-nav {
    gap: 18px;
    font-size: 14px;
    height: 60px;
  }
  nav.main-nav a {
    font-size: 14px;
    padding: 4px 0;
  }
}

/* ====== RESPONSIVE: GENERAL ====== */
@media (max-width: 700px) {
  html, body {
    font-size: 15px;
  }
}

/* ====== ISP NAVS ====== */
@media (max-width: 700px) {
  .nav-card-mid,
  .nav-card-bot {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  .isp-section-tabs {
    gap: 11px;
    min-height: 36px;
    margin-top: 0px;
  }
  .isp-tab-btn {
    font-size: 11px;
    margin: 0 7px;
    padding: 6px 10px;
  }
  .isp-subnav-row {
    gap: 7px;
    min-height: 24px;
    margin-top: 0px;
  }
  .isp-subnav-btn {
    font-size: 9px;
    padding: 6px 8px;
    min-width: 32px;
    pointer-events: auto !important;
    opacity: 1 !important;
    z-index: 1000 !important;
    position: relative !important;
    transform: none; /* no shift on mobile */
  }
}

/* ====== GLOBE SECTION PADDING ====== */
.isp-globe-section {
  margin-top: 0px !important; 
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}
/* ====== CUSTOM FLOATING MODAL SCROLLBAR ====== */
.mesopotamia-scrollbar::-webkit-scrollbar {
  height: 14px;
  background: transparent;
}
.mesopotamia-scrollbar::-webkit-scrollbar-thumb {
  background: #e6dbb9;
  border-radius: 0;
}
.mesopotamia-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #d6c08e;
}
.mesopotamia-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #e6dbb9 #f0f0ed;
}
.matter-matters-page {
  background: #fff !important;
  box-shadow: none !important;
  border: none !important;
}
.matter-matters-page .nav-card-top {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  z-index: 1200;
}
.isp-globe-section {
  align-items: stretch !important;
}
.isp-globe-section > div:first-child {
  flex-shrink: 0 !important;
  min-width: 340px !important;
  max-width: 1050px !important;
  width: 1050px !important;
  height: 845px !important;
}
.isp-globe-section nav {
  flex-shrink: 0 !important;
  min-width: 340px !important;
  max-width: 900px !important;
  width: 700px !important;
}
@media (max-width: 800px) {
  .isp-globe-section {
    flex-direction: column !important;
    align-items: center !important;
  }
  .isp-globe-section > div:first-child,
  .isp-globe-section nav {
    width: 100% !important;
    min-width: unset !important;
    max-width: unset !important;
  }
}

/* ====== DESKTOP: Sticky placement for mid nav + ensure full-bleed nav cards ======
   Make the mid nav position predictable by sticking it at top: 60px (header height).
   Ensure nav-card elements are full-bleed while their immediate children remain centered.
*/
@media (min-width: 701px) {
  /* Mid nav numeric values remain identical */
  .nav-card.nav-card-mid {
    min-height: 44px;
    height: 44px;
    margin-top: 0; /* ensure no extra offset from flow */
    margin-bottom: 0;
    box-shadow: 0 3px 14px 0 rgba(0,0,0,0.10);
    background: #fff;
    /* Position the mid nav exactly under the header */
    position: fixed;
    top: 60px;
    z-index: 1160; /* raised so mid-nav/subnav sit above logos (was 1100) */
  }

  /* Keep inner child centered to the page container and remove side padding */
  .nav-card.nav-card-mid > div,
  .nav-card.nav-card-top > div,
  .nav-card.nav-card-bot > div {
    width: min(1600px, 95vw);
    margin: 0 auto;
    box-sizing: border-box;
    padding-left: 0;
    padding-right: 0;
    background: transparent; /* nav-card supplies the white background */
  }
}

/* ====== Divider hidden ====== */
.nav-divider {
  display: none !important;
}

/* ====== RESPONSIVE: HEADER & NAVIGATION (repeated for safety) ====== */
@media (max-width: 700px) {
  nav.main-nav {
    display: none !important;
  }
}

@media (min-width: 701px) and (max-width: 1024px) {
  nav.main-nav {
    gap: 18px;
    font-size: 14px;
    height: 60px;
  }
  nav.main-nav a {
    font-size: 14px;
    padding: 4px 0;
  }
}

/* ====== RESPONSIVE: GENERAL ====== */
@media (max-width: 700px) {
  html, body {
    font-size: 15px;
  }
}

/* ====== ISP NAVS (mobile adjustments kept unchanged) ====== */
@media (max-width: 700px) {
  .nav-card-mid,
  .nav-card-bot {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  .isp-section-tabs {
    gap: 11px;
    min-height: 36px;
    margin-top: 0px;
  }
  .isp-tab-btn {
    font-size: 11px;
    margin: 0 7px;
    padding: 6px 10px;
  }
  .isp-subnav-row {
    gap: 7px;
    min-height: 24px;
    margin-top: 0px;
  }
  .isp-subnav-btn {
    font-size: 9px;
    padding: 6px 8px;
    min-width: 32px;
    pointer-events: auto !important;
    opacity: 1 !important;
    z-index: 1000 !important;
    position: relative !important;
    transform: none; /* no shift on mobile */
  }
}

/* ====== GLOBE SECTION PADDING ====== */
.isp-globe-section {
  margin-top: 0px !important; 
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}
/* ====== CUSTOM FLOATING MODAL SCROLLBAR ====== */
.mesopotamia-scrollbar::-webkit-scrollbar {
  height: 14px;
  background: transparent;
}
.mesopotamia-scrollbar::-webkit-scrollbar-thumb {
  background: #e6dbb9;
  border-radius: 0;
}
.mesopotamia-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #d6c08e;
}
.mesopotamia-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #e6dbb9 #f0f0ed;
}

/* ====== TOUCH / MOBILE: enable natural panning on touch devices ======
   We target coarse pointers (touch) so desktop remains unchanged.
   This allows horizontal panning (overflow-x:auto) and enables momentum scroll.
*/
@media (pointer: coarse) {
  html, body {
    overflow-x: auto !important;               /* allow panning horizontally on touch devices */
    -webkit-overflow-scrolling: touch;         /* enable momentum scrolling on iOS */
    touch-action: pan-x pan-y;                 /* allow panning in both directions */
  }

  /* Ensure full-bleed nav cards and other wide containers don't force an extra scrollbar */
  .nav-card-top,
  .nav-card-mid,
  .nav-card-bot,
  .isp-globe-section,
  .publication,
  .publication-root,
  .doc,
  .pk-container,
  .sidebar {
    max-width: 100vw !important;
    box-sizing: border-box !important;
    overscroll-behavior-x: auto;
  }

  /* If any element ends up wider than the viewport, allow it to be panned rather than clipped */
  * {
    -ms-touch-action: pan-x pan-y; /* legacy IE / Edge */
  }

  /* If an element explicitly sets overflow hidden and you want it pannable, add a class `allow-pan` to override it */
  .allow-pan {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-x pan-y !important;
  }
}

/* ----------------- end globals.css ----------------- */

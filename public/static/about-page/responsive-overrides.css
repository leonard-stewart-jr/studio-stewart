/* Responsive overrides for the InDesign export (loaded AFTER generated CSS)
   - Centers content to a max-width (1900px)
   - Adds 24px side padding
   - Makes images/media fluid
   - Adds responsive typography using clamp()
   - Minimal, specific overrides so generated styles remain intact where possible
*/

:root {
  --about-max-width: 1900px;
  --about-side-pad: 24px;
}

/* Ensure predictable box-sizing */
html, body {
  box-sizing: border-box;
  width: 100%;
  height: auto;
  margin: 0;
  padding: 0;
}
*, *::before, *::after { box-sizing: inherit; }

/* Target the primary wrappers commonly emitted by InDesign exports.
   We include several selectors to match common structures without editing generated files.
   If your export uses a different root wrapper, this will still apply to body > *.
*/
body > .publication,
body > .publication-root,
body > #publication,
body > .doc,
body > .pk-container,
body > main,
body > div:first-child,
.publication,
.publication-root,
#publication,
.doc,
.pk-container {
  width: 100%;
  max-width: var(--about-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--about-side-pad);
  padding-right: var(--about-side-pad);
  box-sizing: border-box;
}

/* If individual pages inside the export use an inner .page / .article wrapper, center them too */
.page, .article, .page-wrap, .idHTMLRoot, #hc-periodic-table-root {
  width: 100%;
  max-width: var(--about-max-width);
  margin: 0 auto;
  padding-left: var(--about-side-pad);
  padding-right: var(--about-side-pad);
  box-sizing: border-box;
}

/* Fluid media */
img, svg, picture, video, iframe {
  max-width: 100% !important;
  height: auto !important;
  display: block;
}

/* Make tables and fixed-width elements flow inside container */
table, figure, .frame, .img-frame, .container, .grid {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}

/* Allow exported absolutely positioned art to remain but prevent huge fixed widths from creating dead space.
   We target commonly generated fixed-width rules by relaxing max-width where appropriate.
*/
[id^="page"], [class*="page"], [class*="root"] {
  max-width: 100% !important;
  box-sizing: border-box;
}

/* Responsive typography — scale smoothly between small and large viewports */
h1 {
  font-size: clamp(28px, 3.5vw, 64px) !important;
  line-height: 1.05 !important;
  margin: 0 0 12px 0 !important;
}
h2 {
  font-size: clamp(20px, 2.4vw, 44px) !important;
  line-height: 1.08 !important;
  margin: 0 0 10px 0 !important;
}
h3 {
  font-size: clamp(18px, 1.8vw, 28px) !important;
  line-height: 1.12 !important;
  margin: 0 0 8px 0 !important;
}
p, li, dd, dt {
  font-size: clamp(15px, 1.2vw, 18px) !important;
  line-height: 1.4 !important;
  margin: 0 0 12px 0 !important;
}

/* Small captions and footnotes */
.small, .caption, .credit {
  font-size: clamp(12px, 0.9vw, 14px) !important;
  line-height: 1.3 !important;
}

/* Utility: ensure content doesn't overflow horizontally */
html, body, .publication, .publication * {
  overflow-wrap: break-word;
  word-wrap: break-word;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* If the export uses fixed-position full-bleed art, center it visually while keeping intended overlap.
   This is conservative — it only affects elements that are wider than the container and are positioned
   at 50%/left offsets by InDesign.
*/
[style*="left: 50%"], [style*="margin-left: -50%"] {
  left: 50% !important;
  transform: translateX(-50%) !important;
  max-width: 100% !important;
}

/* Small-screen adjustments */
@media (max-width: 700px) {
  :root {
    --about-side-pad: 18px;
  }
  h1 { font-size: clamp(24px, 6.2vw, 40px) !important; }
  h2 { font-size: clamp(18px, 4.2vw, 26px) !important; }
  p { font-size: clamp(15px, 3.2vw, 16px) !important; }
}

/* If specific InDesign components require extra resets, add short rules here.
   These are intentionally non-invasive; if you spot a specific class/id from the export
   that needs a tweak, I can add a targeted override below.
*/
